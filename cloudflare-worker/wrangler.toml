name = "birthday-email-scheduler1"
main = "src/index.js"
compatibility_date = "2023-10-30"

kv_namespaces = [
  { binding = "SCHEDULED_EMAILS_KV", id = "${KV_NAMESPACE_ID}" } # ä»ç¯å¢ƒå˜é‡è·å–KVå‘½åç©ºé—´ID
]

[vars]
# Email configuration
SENDER_EMAIL = "${SENDER_EMAIL}" # å‘é€é‚®ä»¶çš„é‚®ç®±åœ°å€
VERIFICATION_EMAIL = "${VERIFICATION_EMAIL}" # å‘é€éªŒè¯ç çš„é‚®ç®±åœ°å€
ENCRYPTION_SECRET = "${ENCRYPTION_SECRET}" # æ•°æ®åŠ å¯†å¯†é’¥(32ä½ä»¥ä¸Šéšæœºå­—ç¬¦ä¸²)
RESEND_API_KEY = "${RESEND_API_KEY}" # Resendé‚®ä»¶æœåŠ¡APIå¯†é’¥

# You can define environment variables here if needed, but secrets are better for sensitive data

# Birthday wishes and email templates
BIRTHDAY_WISHES = """[
123584
]"""

VERIFICATION_EMAIL_TEMPLATE = """
<!DOCTYPE html>
<html>
<head>
    <title>éªŒè¯é‚®ä»¶</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { max-width: 600px; margin: 0 auto; }
        .code { font-size: 24px; font-weight: bold; color: #2563eb; }
    </style>
</head>
<body>
    <div class="container">
        <h1>æ‚¨çš„éªŒè¯ç </h1>
        <p>è¯·ä½¿ç”¨ä»¥ä¸‹éªŒè¯ç å®ŒæˆéªŒè¯ï¼š</p>
        <p class="code">${randomWishAsCode}</p>
        <p>æ­¤éªŒè¯ç å°†åœ¨10åˆ†é’Ÿåå¤±æ•ˆã€‚</p>
    </div>
</body>
</html>
"""

SCHEDULED_EMAIL_TEMPLATE = """
<!DOCTYPE html>
<html>
<head>
    <title>ç”Ÿæ—¥å¿«ä¹ï¼</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f8fafc; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; background: white; border-radius: 8px; }
        .message { font-size: 18px; line-height: 1.6; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ‰ ç”Ÿæ—¥å¿«ä¹ï¼</h1>
        <div class="message">
            ${message}
        </div>
        <p>ç¥æ‚¨åº¦è¿‡ç¾å¥½çš„ä¸€å¤©ï¼</p>
    </div>
</body>
</html>
"""

# Cron Triggers configuration
# This example runs the cron job every hour. Adjust as needed.
# See https://developers.cloudflare.com/workers/platform/cron-triggers/
[triggers]
crons = ["0 * * * *"] # Runs at the start of every hour
